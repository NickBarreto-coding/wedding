/* Reset e variáveis */
[hidden]{display:none!important}
:root{
  --main-color:#2f5130; --main-color-dark:#1e3320;
  --text-color:#2f5130; --background-paper:#f9f5e7;
  --font-family:'Georgia',serif; --font-family-alt:'Arial',sans-serif;
}
*{box-sizing:border-box}
html,body{
  margin:0; padding:0; height:100%;
  font-family:var(--font-family); color:var(--text-color);
  background:url("./background.png") center/cover fixed no-repeat;
  display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
}

/* Header */
.header{width:100%; padding:2rem 1rem; text-align:center; color:var(--main-color); margin-top:20px}
.header h1{font-family:'Dancing Script',cursive; font-size:3rem; color:var(--main-color-dark)}

/* Main */
main{flex-grow:1; width:90%; max-width:600px; margin:5rem auto 4rem; display:flex; justify-content:center; perspective:1000px}

/* Carta */
#letter{width:480px; height:640px; position:relative; cursor:pointer; perspective:1000px; max-width:100%}

/* Faces */
.letter-closed,.letter-open{
  position:absolute; inset:0;
  border-radius:24px; backface-visibility:hidden;
  transition:transform 1s cubic-bezier(0.23,1,0.32,1);
  padding:3rem; background:url("./letter.png") center/cover no-repeat;
  overflow:hidden;
}

/* Frente */
.letter-closed{
  background-color:#fdf6e3; border:2.5px solid var(--main-color);
  box-shadow:0 8px 20px rgba(0,0,0,.12);
  font-family:'Dancing Script',cursive; font-size:2.2rem; font-weight:700; color:var(--main-color);
  display:flex; align-items:flex-start; justify-content:center; padding-top:40%;
  transform:rotateY(0deg); z-index:2;
}

/* Verso */
.letter-open{
  background-color:var(--background-paper); font-size:1.05rem; text-align:center;
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.5rem;
  transform:rotateY(180deg); z-index:1;
}
.letter-content p{margin:1rem 0; line-height:1.6}
#rsvp-form{width:100%; max-width:320px}
#rsvp-form input[type="text"]{width:100%; padding:.5rem; border-radius:8px; border:1px solid var(--main-color); font-size:1rem}
#rsvp-form fieldset{border:none; margin:1rem 0}
#rsvp-form button{border:none; border-radius:8px; padding:.7rem 1.5rem; font-weight:700; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,.2)}
#rsvp-form button[type="submit"]{background:var(--main-color); color:#fff}
#rsvp-form button[type="submit"]:hover{background:var(--main-color-dark)}
#form-msg{margin-top:.5rem; font-weight:600}

/* Botão presente */
#gift-btn{background:#d4a017; color:#fff; margin-left:.5rem}
#gift-btn:hover{background:#a87e12}
.gift-text{margin-top:.7rem; font-size:.9rem; color:var(--main-color-dark); font-style:italic}

/* Flip */
#letter.open .letter-closed{transform:rotateY(-180deg); z-index:1}
#letter.open .letter-open{transform:rotateY(0deg); z-index:2}

/* Modal */
.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.6); z-index:10000}
.modal-content{background:var(--background-paper); padding:2rem; border-radius:20px; max-width:400px; width:90%; box-shadow:0 10px 30px rgba(0,0,0,.3); text-align:center}
.modal-content input[type="password"]{width:100%; padding:.7rem; font-size:1.1rem; border-radius:10px; border:2px solid var(--main-color); margin-bottom:1rem}
#code-submit{background:var(--main-color); color:#fff; border:none; border-radius:8px; padding:.7rem 1.5rem; cursor:pointer}
#code-submit:hover{background:var(--main-color-dark)}
#code-cancel{background:#ccc; color:#333; border:none; border-radius:8px; padding:.7rem 1.5rem; cursor:pointer}
#code-cancel:hover{background:#999}

/* Responsivo */
@media (max-width:600px){
  #letter{width:92vw; height:calc(92vw * 4 / 3); max-height:90vh}
  .letter-closed,.letter-open{padding:1.25rem; overflow:auto}
  .letter-closed{font-size:1.7rem; padding-top:32%}
  .letter-open{font-size:.98rem}
  #rsvp-form button{width:100%; margin:.25rem 0}
  #gift-btn{margin-left:0}
}

/* ===== Folhas ===== */
.leaf{
  position: fixed;
  top: -10vh;
  left: 0;
  pointer-events: none;
  z-index: 9999;
  animation: fallY var(--fall-duration, 10s) linear forwards;
}
.leaf-glyph{
  display:inline-block; font-size:var(--size,2rem);
  animation:swayX var(--sway-duration,3s) ease-in-out infinite alternate,
           spin   var(--spin-duration,7s) linear infinite;
  transform-origin:center; opacity:.95;
}
@keyframes fallY{from{transform:translateY(-10vh);opacity:1}to{transform:translateY(110vh);opacity:0}}
@keyframes swayX{from{transform:translateX(-40px)}to{transform:translateX(40px)}}
@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
